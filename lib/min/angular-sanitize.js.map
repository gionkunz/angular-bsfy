{"version":3,"file":"angular-sanitize.js","sources":["../angular-sanitize.js"],"names":["window","angular","$SanitizeProvider","this","$get","$$sanitizeUri","html","buf","htmlParser","htmlSanitizeWriter","uri","isImage","test","join","sanitizeText","chars","writer","noop","makeMap","str","i","obj","items","split","length","handler","parseStartTag","tag","tagName","rest","unary","lowercase","blockElements","stack","last","inlineElements","parseEndTag","optionalEndTagElements","voidElements","push","attrs","replace","ATTR_REGEXP","match","name","doubleQuotedValue","singleQuotedValue","unquotedValue","value","decodeEntities","start","pos","end","index","specialElements","RegExp","all","text","COMMENT_REGEXP","CDATA_REGEXP","indexOf","lastIndexOf","comment","substring","DOCTYPE_REGEXP","BEGING_END_TAGE_REGEXP","END_TAG_REGEXP","BEGIN_TAG_REGEXP","START_TAG_REGEXP","$sanitizeMinErr","parts","spaceRe","exec","spaceBefore","spaceAfter","content","hiddenPre","innerHTML","textContent","innerText","encodeEntities","SURROGATE_PAIR_REGEXP","hi","charCodeAt","low","NON_ALPHANUMERIC_REGEXP","uriValidator","ignore","out","bind","validElements","forEach","key","lkey","validAttrs","uriAttrs","$$minErr","optionalEndTagBlockElements","optionalEndTagInlineElements","extend","document","createElement","module","provider","exports","filter","$sanitize","LINKY_URL_REGEXP","MAILTO_REGEXP","target","addText","addLink","url","isDefined","raw","substr"],"mappings":"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"}